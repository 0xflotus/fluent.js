<html>
  <head>
    <script type="text/javascript;version=1.8" src="/l20n/js/l20n.js"></script>
    <script type="text/javascript;version=1.8" src="/l20n/js/l20n-xml.js"></script>
    <script type="text/javascript" src="../js/tests.js"></script>
    <script type="text/javascript" src="./tests.js"></script>

    <script type="application/l20n">
    {
        "user": {
            "name": "Maggie",
            "gender": "female"
        },
        "downloadCount": 5
    }
    </script>
    <script type="text/javascript">
      document.addEventListener("DOMContentLoaded", function() {
        var ctx = document.l10nCtx;
        ctx.onReady = test;        
      });

      function test() {
        alert(getEntity('test'));
      }

      function getEntity(id) {
        var ctx = document.l10nCtx;
        return ctx.get(id);
      }
    </script>
    <link href="./index.j20n" type="intl/l20n" />
  </head>
  <body>
    <span l10n-id="test"></span>
  </body>
</html>

