<html>
  <head>
    <script type="text/javascript;version=1.8" src="/l20n/js/l20n.js"></script>
    <script type="text/javascript;version=1.8" src="/l20n/js/l20n-xml.js"></script>

    <link rel="stylesheet" type="text/css" href="../lib/jasmine/jasmine.css">
    <script type="text/javascript" src="../lib/jasmine/jasmine.js"></script>
    <script type="text/javascript" src="../lib/jasmine/jasmine-html.js"></script>

    <link rel="stylesheet" type="text/css" href="../lib/test.css">
    <script type="text/javascript" src="spec.js"></script>
    <script type="text/javascript" src="../lib/test.js"></script>

    <script type="application/l20n">
    {
        "user": {
            "name": "Maggie",
            "gender": "female"
        },
        "downloadCount": 5
    }
    </script>

    <script type="text/javascript">
      function test() {
        document.l10nData.user.gender="male";
        var node = document.getElementById('mood');
        node.retranslate();
      }
    </script>

    <link href="./index.j20n" type="intl/l20n" />
  </head>
  <body>
    <p class="intro">
      This example introduces a "l10nData" property of the document object that 
      enables the developer to manipulate the document level context data 
      provided to the localizer.
    </p>
    <h1 l10n-id="window_title" style="color:green" l10n-attrs="title,accesskey"></h1>
    <span l10n-id="name"></span><input type="text" l10n-id="name_input"/>
    <br/>
    <br/>
    <span l10n-id="download_status" l10n-args='{"user":{"name": "Mark"}}'></span>
    <span id="mood" l10n-id="mood"></span>
    <button onclick="test()">retranslate</button>
  </body>
</html>

