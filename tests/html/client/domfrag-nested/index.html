<html>
  <head>
    <script type="text/javascript;version=1.8" src="../../../../lib/l20n.js"></script>
    <script type="text/javascript;version=1.8" src="../../../../lib/parser.js"></script>
    <script type="text/javascript;version=1.8" src="../../../../lib/compiler.js"></script>
    <script type="text/javascript;version=1.8" src="../../../../html/l20n-xml.js"></script>

    <link rel="stylesheet" type="text/css" href="../../_lib/jasmine/jasmine.css">
    <link rel="stylesheet" type="text/css" href="../../_lib/test.css">
    <script type="text/javascript" src="../../_lib/jasmine/jasmine.js"></script>
    <script type="text/javascript" src="../../_lib/jasmine/jasmine-html.js"></script>
    <script type="text/javascript" src="../runtests.js"></script>
    <script type="text/javascript" src="spec.js"></script>
    
    <link href="./index.lol" type="intl/l20n" />

    <script type="text/javascript">
      function test(index) {
        var node = document.getElementById('progress' + index);
        document.l10nData['kilobytes' + index] += 128;
        document.l10nData['timeremaining' + index] -= 7;
        node.retranslate();
      }
    </script>

    <script type="application/l20n">
    {
      "kilobytes1": 0,
      "timeremaining1": 60
    }
    </script>

    <style type="text/css">
      .payload {
        color: green;
      }
      .acronym {
        font-weight: bold;
      }
      .time {
        color: red;
      }
    </style>

  </head>
  <body>

    <p class="intro">
      This example is similar to
      <a href="../domfrag-retr-reord/">domfrag-retr-reord</a>.  We combine DOM 
      Fragment localization, retranslation and the <code>l10n-path</code> 
      attribute which enables localizers to reorder nodes without ID's within 
      the DOM Fragment.  Additionally, one of the two <code>span</code> 
      elements with <code>l10n-path</code> has a child <code>abbr</code> 
      element which, in turn, doesn't have <code>l10n-path</code>.  We're 
      testing if the <code>abbr</code> in the localization will match the 
      <code>abbr</code> in the source and consequently inherit its 
      <code>class</code>.
    </p>

    <table>
      <tr>
        <td id="progress1" l10n-id="downloaded1">
          <span class="payload"><abbr class="acronym"></abbr></span>
          <span class="time"></span>
        </td>
        <td>
          <button onclick="test(1)">download 128 KB</button>
        </td>
      </tr>
    </table>

  </body>
</html>

<!-- vim: set ts=2 et sw=2 sts=2: -->
