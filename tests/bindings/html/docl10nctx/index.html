<html>
  <head>
    <link href="./index.lol" type="intl/l20n" />
    <script type="text/javascript;version=1.8" src="../../../../min/l20n.js"></script>

    <link rel="stylesheet" type="text/css" href="../_lib/jasmine/jasmine.css">
    <link rel="stylesheet" type="text/css" href="../_lib/test.css">
    <script type="text/javascript" src="../_lib/jasmine/jasmine.js"></script>
    <script type="text/javascript" src="../_lib/jasmine/jasmine-html.js"></script>
    <script type="text/javascript" src="../_lib/runtests.js"></script>
    <script type="text/javascript" src="spec.js"></script>

    <script type="text/javascript">
      document.addEventListener("DOMContentLoaded", function() {
        var ctx = document.l10nCtx;
        ctx.onReady = test;        
      });

      function test() {
        alert(getEntity('test'));
      }

      function getEntity(id) {
        var ctx = document.l10nCtx;
        return ctx.get(id);
      }
    </script>
  </head>
  <body>
    <p class="intro">
      This example introduces "l10nCtx" property of the document object. It 
      enabled the developer to reuse the HTML L20n context from JS.
    </p>
    <span data-l10n-id="test"></span>
  </body>
</html>

