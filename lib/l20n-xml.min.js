(function(){var e;if(typeof exports!=="undefined"){e=exports;e.Parser=require("./parser.js");e.Compiler=require("./compiler.js")}else{e=this.L20n={}}e.getContext=function l(){return new h()};var d={get hourfunction(){return new Date().getHours()},get osfunction(){if(/^MacIntel/.test(navigator.platform)){return"mac"}if(/^Linux/.test(navigator.platform)){return"linux"}if(/^Win/.test(navigatgor.platform)){return"win"}return"unknown"},};function i(){this.resources={};this.preprocessed={}}i.prototype.getResource=function g(m){if(!this.resources[m]){this.resources[m]=new a(m)}return this.resources[m]};i.prototype.getProcessedResource=function f(o,m){var n=this.normalizeURL(o,m);if(!this.preprocessed[n]){this.preprocessed[n]=new j(this,n)}return this.preprocessed[n]};i.prototype.normalizeURL=function b(p,m){var n;if(p[0]=="/"){n=p.split("/")}else{if(m){if(m[m.length-1]=="/"){m=m.slice(0,m.length-1)}n=(m+"/"+p).split("/")}else{n=("./"+p).split("/")}}var o=[];n.forEach(function(q,r){if(q=="."){}else{if(q==".."&&o[o.length-1]){o.splice(o.length-1,1)}else{o.push(q)}}});return o.join("/")};function c(m,n){return function o(){if(m.isComplete()){n.apply(m,arguments)}}}function k(n,m){n.forEach(function(o){o.apply(this,m)});n.length=0}function a(r){var m=null;var o=null;var q=[];var s=false;function n(u,w){var v=new XMLHttpRequest();v.overrideMimeType("text/plain");v.addEventListener("load",function(){w(v.responseText)});v.open("GET",u,true);v.send("")}function t(u){m=e.Parser.parse(u).body;o=m.filter(function(v){return v.type=="ImportStatement"});k(q,[m,o])}this.get=function p(u){if(m){u(m,o)}else{q.push(u);if(!s){s=true;n(r,t)}}}}function j(m,n){var r=[];var t=[];this.ast=[];this.imports=[];this.isReady=false;this.cache=m;this.dirname=n?n.split("/").slice(0,-1).join("/"):null;this.resource=n?this.cache.getResource(n):null;var u=this;function p(){if(this.isReady){return}r.forEach(function(w){if(w.type=="ImportStatement"){var v=this.imports.shift().ast;this.ast=u.ast.concat(v)}else{this.ast.push(w)}},this);this.isReady=true;k(t)}this.load=function o(x,w){if(this.isPreprocessed){x()}else{t.push(x);this.resource.get(function v(y,z){r=y;if(z.length){z.forEach(function(A){u.importResource(A.uri.content,c(u,p),w+1)})}else{u.ast=r;u.isReady=true;k(t)}})}};this.importResource=function s(y,x,v){v=v||0;if(v>7){throw"Too many nested imports"}var w=this.cache.getProcessedResource(y,u.dirname);this.imports.push(w);w.load(x,v)};this.isComplete=function q(){for(var v in this.imports){if(!this.imports[v].isReady){return false}}return true}}function h(){var x={};var s={};var E={paths:null,locales:null,timeout:500,};var o=false;var A=false;var z=this;var y=new i();var w=new j(y);w.isComplete=function F(){if(!o){return false}for(var H in this.imports){if(!this.imports[H].isReady){return false}}return true};function q(){if(A){return}w.ast=w.imports.reduce(function(H,I){return H.concat(I.ast)},[]);e.Compiler.compile(w.ast,x,d);A=true;D()}function D(){var H=document.createEvent("Event");H.initEvent("LocalizationReady",false,false);H.ctx=z;document.dispatchEvent(H)}function B(J){var H=Object.create(s);if(J){for(var I in J){H[I]=J[I]}}return H}function G(K,J){if(!A){throw"Error: context not ready"}var H=x[K];if(!H||H.local){console.warn("No such entity: "+K);return null}var I=B(J);return H.toString(I)}function C(M,J,L,K){if(A){L(G(M,J))}var I=false;var H=window.setTimeout(function(){I=true;L(K)},E.timeout);document.addEventListener("LocalizationReady",function(N){if(I||N.ctx!==z){return}window.clearTimeout(H);L(G(M,J))})}function m(H){if(/^l10n:/.test(H)){if(E.locales===null||E.paths===null){throw"Can't use schema urls without settings.locales|paths"}var K=E.paths[0];var J={locale:z.getLocale(),urn:H.substr(5)};var I=K.schema.replace(/(\{\{\s*(\w+)\s*\}\})/g,function(M,P,N,O,L){if(J.hasOwnProperty(N)){return J[N]}return P});return K.root+I}return H}this.__defineSetter__("data",function(H){s=H});this.__defineGetter__("data",function(){return s});Object.defineProperty(this,"settings",{value:Object.create(Object.prototype,{locales:{get:function(){return E.locales},set:function(H){if(!Array.isArray(H)){throw"Locales must be a list"}if(H.length==0){throw"Locales list must not be empty"}if(E.locales!==null){throw"Can't overwrite locales"}E.locales=H;Object.freeze(E.locales)},configurable:false,enumerable:true,},paths:{get:function(){return E.paths},set:function(H){if(!Array.isArray(H)){throw"Paths must be a list"}if(H.length==0){throw"Paths list must not be empty"}if(E.paths!==null){throw"Can't overwrite paths"}E.paths=H;Object.freeze(E.paths)},configurable:false,enumerable:true,},timeout:{get:function(){return E.timeout},set:function(H){if(typeof(H)!=="number"){throw"Timeout must be a number"}E.timeout=H},configurable:false,enumerable:true,},}),writable:false,enumerable:false,configurable:false,});this.getLocale=function t(){if(E.locales.length==0){return null}return E.locales[0]};this.addResource=function v(H){if(o){throw"Context is frozen, can't add more resources"}w.importResource(m(H),c(w,q))};this.freeze=function n(){o=true;c(w,q)};this.get=function u(K,H,J,I){if(A||J===undefined){return G(K,H)}else{C(K,H,J,I);return null}};this.getAttribute=function r(M,H,L){if(!A){throw"Error: context not ready"}var I=x[M];if(!I||I.local){console.warn("No such entity: "+M);return null}var K=I.attributes[H];if(!K||K.local){console.warn("No such attribute: "+H);return null}var J=B(L);return K.toString(J)};this.getAttributes=function p(N,M){if(!A){throw"Error: context not ready"}var J=x[N];if(!J||J.local){console.warn("No such entity: "+N);return null}var K=B(M);var I={};for(var H in J.attributes){var L=J.attributes[H];if(!L.local){I[H]=L.toString(K)}}return I}}}).call(this);(function(){var c={defaultLocale:"en-US",systemLocales:["en-US"]};function h(l){return true}function a(l){return l}function k(){return c.defaultLocale}function g(n){if(n===undefined){return[]}var q=[];if(typeof(n)=="string"){n=new Array(n)}var m=n.length;var p=0;while(p<m){var s=p.toString();var o=n.hasOwnProperty(s);if(o){var r=n[s];if(typeof(r)!=="string"&&typeof(r)!=="object"){throw new TypeError()}var l=r.toString();if(!h(l)){throw new RangeError()}var l=a(l);if(q.indexOf(l)===-1){q.push(l)}}p+=1}return q}function j(m,l){var n=l;while(1){if(m.indexOf(n)!==-1){return n}var o=n.lastIndexOf("-");if(o===-1){return undefined}if(o>=2&&n[o-2]=="-"){o-=2}n=n.substr(0,o)}}function e(o,q){var p=0;var n=q.length;var r=undefined;while(p<n&&r===undefined){var m=q[p];var s=m;var r=j(o,s);p+=1}var l={};if(r!==undefined){l.locale=r;if(m!==s){throw"NotImplemented"}}else{l.locale=k()}return l}var b=e;function f(l,n,q,v,m){var o=q.localeMatcher;if(o=="lookup"){var z=e(l,n)}else{var z=b(l,n)}var E=z.locale;if(z.hasOwnProperty("extension")){throw"NotImplemented"}var w={};w.dataLocale=E;var p="-u";var B=0;var C=0;if(v!==undefined){C=v.length}while(B<C){var F=v[B.toString()];var x=m(E);var D=x[E];var A=D[0];var y="";if(extensionSubtags!==undefined){throw"NotImplemented"}if(q.hasOwnProperty("key")){var s=q.key;if(D.indexOf(s)!==-1){if(s!==A){A=s;y=""}}w.key=A;p+=y;B+=1}}if(p.length>2){var u=E.substr(0,extensionIndex);var t=E.substr(extensionIndex+1);var E=u+p+t}w.locale=E;return w}function d(m){var o=[navigator.language||navigator.userLanguage];var n={localeMatcher:"lookup"};var l=f(m,o,n);var p=m.indexOf(l.locale);if(p===-1){return m}m.splice(p,1);m.unshift(l.locale);return m}var i;if(typeof exports!=="undefined"){i=exports}else{i=this.L20n.Intl={}}i.prioritizeLocales=d}).call(this);(function(){var c={defaultLocale:"en-US",systemLocales:["en-US"]};function h(l){return true}function a(l){return l}function k(){return c.defaultLocale}function g(n){if(n===undefined){return[]}var q=[];if(typeof(n)=="string"){n=new Array(n)}var m=n.length;var p=0;while(p<m){var s=p.toString();var o=n.hasOwnProperty(s);if(o){var r=n[s];if(typeof(r)!=="string"&&typeof(r)!=="object"){throw new TypeError()}var l=r.toString();if(!h(l)){throw new RangeError()}var l=a(l);if(q.indexOf(l)===-1){q.push(l)}}p+=1}return q}function j(m,l){var n=l;while(1){if(m.indexOf(n)!==-1){return n}var o=n.lastIndexOf("-");if(o===-1){return undefined}if(o>=2&&n[o-2]=="-"){o-=2}n=n.substr(0,o)}}function e(o,q){var p=0;var n=q.length;var r=undefined;while(p<n&&r===undefined){var m=q[p];var s=m;var r=j(o,s);p+=1}var l={};if(r!==undefined){l.locale=r;if(m!==s){throw"NotImplemented"}}else{l.locale=k()}return l}var b=e;function f(l,n,q,v,m){var o=q.localeMatcher;if(o=="lookup"){var z=e(l,n)}else{var z=b(l,n)}var E=z.locale;if(z.hasOwnProperty("extension")){throw"NotImplemented"}var w={};w.dataLocale=E;var p="-u";var B=0;var C=0;if(v!==undefined){C=v.length}while(B<C){var F=v[B.toString()];var x=m(E);var D=x[E];var A=D[0];var y="";if(extensionSubtags!==undefined){throw"NotImplemented"}if(q.hasOwnProperty("key")){var s=q.key;if(D.indexOf(s)!==-1){if(s!==A){A=s;y=""}}w.key=A;p+=y;B+=1}}if(p.length>2){var u=E.substr(0,extensionIndex);var t=E.substr(extensionIndex+1);var E=u+p+t}w.locale=E;return w}function d(m){var o=[navigator.language||navigator.userLanguage];var n={localeMatcher:"lookup"};var l=f(m,o,n);var p=m.indexOf(l.locale);if(p===-1){return m}m.splice(p,1);m.unshift(l.locale);return m}var i;if(typeof exports!=="undefined"){i=exports}else{i=this.L20n.Intl={}}i.prioritizeLocales=d}).call(this);(function(){var b;if(typeof exports!=="undefined"){b=exports}else{b=this.L20n.Parser={}}b.parse=function j(u){var t={type:"LOL",body:[]};l=u;n();while(l){t.body.push(k());n()}return t};var l=null;var c={id:/^([_a-zA-Z]\w*)/,value:/^(["'])([^'"]*)(["'])/,ws:/^\s+/};function n(){l=l.replace(c.ws,"")}function k(){var u;if(l[0]=="<"){l=l.substr(1);var v=h();if(l[0]=="("){u=get_macro(v)}else{if(l[0]=="["){var t=p();u=s(v,t)}else{u=s(v)}}}else{if(l.substr(0,2)=="/*"){u=get_comment()}else{if(l.substr(0,6)=="import"){u=d()}else{throw"ParserError at get_entry"}}}return u}function d(){l=l.substr(6);n();if(l[0]!="("){throw"ParserError"}l=l.substr(1);n();var t=i();n();if(l[0]!=")"){throw"ParserError"}l=l.substr(1);var u={type:"ImportStatement",uri:t};return u}function h(){if(l[0]=="~"){}var u=c.id.exec(l);if(!u){throw"ParserError"}l=l.substr(u[0].length);var t={type:"Identifier",name:u[0]};return t}function s(y,v){var w=l[0];n();if(l[0]==">"){}if(!/\s/g.test(w)){throw"ParserError at get_entity"}var x=f(true);n();var u=m();var t={type:"Entity",id:y,value:x,index:v||[],attrs:u,local:(y.name[0]=="_")};return t}function f(u){var x=l[0];var v;if(x=='"'||x=="'"){var w=l.substr(3);var t=(w=='"""'||w=="'''")?w:x;v=q(t)}else{if(x=="["){v=get_array()}else{if(x=="{"){v=o()}}}return v}function i(){var t=c.value.exec(l);if(!t){throw"ParserError"}l=l.substr(t[0].length);return{type:"String",content:t[2]}}function q(t){var A=t[0];var C=new RegExp("^([^\\{"+A+"]+)");var w=[];var v="";l=l.substr(t.length);var x=0;while(l.substr(0,t.length)!=t){x++;if(x>20){break}if(l[0]==A){v+=l[0];l=l.substr(1)}if(l[0]=="\\"){var D=l.substr(1,3)=="{{"?3:2;v+=l.substr(1,D);l=l.substr(D)}if(l.substr(0,2)=="{{"){l=l.substr(2);if(v){var y={type:"String",content:v};w.push(y);v=""}n();var B=r();w.push(B);if(l.substr(0,2)!="}}"){throw"ParserError at get_complex_string"}l=l.substr(2)}var u=C.exec(l);if(u){v=u[1];l=l.substr(u[0].length)}}if(v){var y={type:"String",content:v};w.push(y)}l=l.substr(t.length);if(w.length==1&&w[0].type=="String"){return w[0]}var z={type:"ComplexString",content:w};return z}function o(){l=l.substr(1);n();if(l[0]=="}"){var u={type:"Hash",content:[]};return u}var v=[];while(1){var w=false;if(l[0]=="*"){l=l.substr(1);w=true}var t=g("HashItem");t["default"]=w;v.push(t);n();if(l[0]==","){l=l.substr(1);n()}else{if(l[0]=="}"){break}else{throw"ParserError in get_hash"}}}l=l.substr(1);var u={type:"Hash",content:v};return u}function g(t){var v=h();n();if(l[0]!=":"){throw"ParserError"}l=l.substr(1);n();var w=f();var u={type:t,key:v,value:w};return u}function m(){if(l[0]==">"){l=l.substr(1);return{}}var u={};while(1){var t=g("Attribute");t.local=t.key.name[0]=="_";u[t.key.name]=t;var v=l[0];n();if(l[0]==">"){l=l.substr(1);break}else{if(!/^\s/.test(v)){throw"ParserError"}}}return u}function p(){l=l.substr(1);n();var t=[];if(l[0]=="]"){l=l.substr(1);return t}while(1){var u=r();t.push(u);n();if(l[0]==","){l=l.substr(1)}else{if(l[0]=="]"){break}else{throw"ParserError in get_index"}}}l=l.substr(1);return t}function r(){var t=e();n();return t}function e(){if(l[0]=="$"){return a()}if(l[0]=="@"){l=l.substr(1);var u=h();var t={type:"GlobalsExpression",id:u};return t}return h()}function a(){l=l.substr(1);var u=h();var t={type:"VariableExpression",id:u};return t}}).call(this);(function(){function h(N,M,J,K,H){if(!N||typeof N==="boolean"||typeof N==="string"||typeof N==="number"){return N}if(N._resolve){return N._resolve(K,H)}H=H||[];var I=H.shift();var L=N(M,J,K,I);M=L[0],L=L[1];return h(L,M,J,K,H)}function s(J){var I=J.name;return function H(N,L,M){var K=L.entries[I];return[{__this__:K},K]}}function w(I){return function H(L,J,K){return[L,L.__this__]}}function l(H){return function I(M,J,L){var K=M[H.id.name];if(K!==undefined){return K}return[M,L[H.id.name]]}}function m(H){return function I(L,J,K){return[L,J.globals[H.id.name]]}}function z(I){return function H(L,J,K){return[L,I.value]}}function u(H){return function I(L,J,K){return[L,H.content]}}function A(J){var I=[];J.content.forEach(function(L,K){I.push(G(L))});return function H(N,L,M,K){K=h(K,N,L,M);if(K&&I[K]){return[N,I[K]]}else{return[N,I[0]]}}}function D(K){var J=[];var I=null;K.content.forEach(function(M,L){J[M.key.name]=t(M);if(L==0||M["default"]){I=M.key.name}});return function H(O,M,N,L){L=h(L,O,M,N);if(L&&J[L]){return[O,J[L]]}else{return[O,J[I]]}}}function t(H){return G(H.value)}function B(I){var H=[];I.content.forEach(function(J){H.push(G(J))});return function(){var K=false;return function J(P,L,N){if(K){throw new Error("Cyclic reference detected")}K=true;var O=[];H.forEach(function M(R){var Q=h(R,P,L,N);O.push(Q)});K=false;return[P,O.join("")]}}()}function n(I){if(I=="-"){return function H(L){return -L}}if(I=="+"){return function K(L){return +L}}if(I=="!"){return function J(L){return !L}}throw new Error("Unknown token: "+I)}function a(J){if(J=="=="){return function P(U,T){return U==T}}if(J=="!="){return function H(U,T){return U!=T}}if(J=="<"){return function O(U,T){return U<T}}if(J=="<="){return function K(U,T){return U<=T}}if(J==">"){return function I(U,T){return U>T}}if(J==">="){return function R(U,T){return U>=T}}if(J=="+"){return function S(U,T){return U+T}}if(J=="-"){return function M(U,T){return U-T}}if(J=="*"){return function N(U,T){return U*T}}if(J=="/"){return function L(U,T){return U/T}}if(J=="%"){return function Q(U,T){return U%T}}throw new Error("Unknown token: "+J)}function c(H){if(H=="&&"){return function J(L,K){return L&&K}}if(H=="||"){return function I(L,K){return L||K}}throw new Error("Unknown token: "+H)}function q(K){var I=n(K.operator.token);var J=G(K.argument);return function H(N,L,M){return[N,I(h(J,N,L,M))]}}function g(J){var L=G(J.left);var H=a(J.operator.token);var I=G(J.right);return function K(O,M,N){return[O,H(h(L,O,M,N),h(I,O,M,N))]}}function i(J){var K=G(J.left);var H=c(J.operator.token);var I=G(J.right);return function L(O,M,N){return[O,H(h(K,O,M,N),h(I,O,M,N))]}}function r(I){var L=G(I.test);var H=G(I.consequent);var K=G(I.alternate);return function J(O,M,N){if(h(L,O,M,N)){return H(O,M,N)}return K(O,M,N)}}function b(K){var I=G(K.callee);var H=[];K.arguments.forEach(function(M,L){H.push(G(M))});return function J(P,L,O){var N=[];H.forEach(function(Q,R){N.push(Q(P,L,O))});var M=I(P,L,O);P=M[0],M=M[1];return M(P,L,O,N)}}function k(I){var K=G(I.expression);var J=I.computed?G(I.property):I.property.name;return function H(O,M,N){var P=h(J,O,M,N);var L=K(O,M,N);O=L[0],L=L[1];if(L._yield){return L._yield(N,P)}return L(O,M,N,P)}}function f(J){var K=G(J.expression);var I=J.computed?G(J.attribute):J.attribute.name;return function H(P,N,O){var L=h(I,P,N,O);var M=K(P,N,O);P=M[0],M=M[1];return[P,M.attributes[L]]}}function o(H){return G(H.expression)}function G(I){var H={Identifier:s,ThisExpression:w,VariableExpression:l,GlobalsExpression:m,Literal:z,String:u,Array:A,Hash:D,HashItem:t,ComplexString:B,UnaryExpression:q,BinaryExpression:g,LogicalExpression:i,ConditionalExpression:r,CallExpression:b,PropertyExpression:k,AttributeExpression:f,ParenthesisExpression:o,};if(!I||!H[I.type]){return null}return H[I.type](I)}function e(I,H){this.key=I.key.name;this.local=I.local||false;this.value=G(I.value);this.entity=H}e.prototype._yield=function x(I,H){var J={__this__:this.entity,};return this.value(J,this.entity.env,I,H)};e.prototype._resolve=function p(I,H){H=H||this.entity.index;var J={__this__:this.entity,};return h(this.value,J,this.entity.env,I,H)};e.prototype.toString=function y(H){return this._resolve(H)};function F(J,I){this.id=J.id;this.value=G(J.value);this.index=[];J.index.forEach(function(K){this.index.push(G(K))},this);this.attributes={};for(var H in J.attrs){this.attributes[H]=new e(J.attrs[H],this)}this.local=J.local||false;this.env=I}F.prototype._yield=function E(I,H){var J={__this__:this,};return this.value(J,this.env,I,H)};F.prototype._resolve=function C(I,H){H=H||this.index;var J={__this__:this,};return h(this.value,J,this.env,I,H)};F.prototype.toString=function y(H){return this._resolve(H)};function d(H){var I=G(H.expression);return function(M,K,L,J){H.args.forEach(function(N,O){M[N.id.name]=J[O]});return I(M,K,L)}}var v;if(typeof exports!=="undefined"){v=exports}else{v=this.L20n.Compiler={}}v.compile=function j(I,H,M){var K={entries:H,globals:M,};for(var J=0,L;L=I[J];J++){if(L.type=="Entity"){K.entries[L.id.name]=new F(L,K)}else{if(L.type=="Macro"){K.entries[L.id.name]=new d(L)}}}}}).call(this);(function(){var a=L20n.getContext();HTMLDocument.prototype.__defineGetter__("l10nCtx",function(){return a})})();document.addEventListener("DOMContentLoaded",function(){var c=document.getElementsByTagName("head")[0];if(!c){return}var a=c.getElementsByTagName("link");for(var b=0;b<a.length;b++){if(a[b].getAttribute("type")=="intl/manifest"){download(a[b].getAttribute("href"),function(f){var e=document.l10nCtx;var d=L20n.Intl.prioritizeLocales(f.locales.supported);e.settings.locales=d;e.settings.paths=f.paths;initializeDocumentContext()});return}}initializeDocumentContext()});function download(a,c){var b=new XMLHttpRequest();b.overrideMimeType("application/json");b.addEventListener("load",function(){c(JSON.parse(b.responseText))});b.open("GET",a,true);b.send("")}function initializeDocumentContext(){var g=document.getElementsByTagName("head")[0];var b=document.l10nCtx;if(b.settings.locales===null){var h=g.getElementsByTagName("meta");for(var e=0;e<h.length;e++){if(h[e].getAttribute("http-equiv")=="Content-Language"){var a=h[e].getAttribute("Content").split(",");a.forEach(String.trim);b.settings.locales=a;break}}}var d=g.getElementsByTagName("link");for(var e=0;e<d.length;e++){if(d[e].getAttribute("type")=="intl/l20n"){b.addResource(d[e].getAttribute("href"))}}b.freeze();var f=g.getElementsByTagName("script");for(var e=0;e<f.length;e++){if(f[e].getAttribute("type")=="application/l20n"){var c=JSON.parse(f[e].textContent);b.data=c}}document.addEventListener("LocalizationReady",function(){var j=document.querySelectorAll("[l10n-id]");for(var k=0,l;l=j[k];k++){localizeNode(b,l)}fireLocalizedEvent()});HTMLElement.prototype.retranslate=function(){if(this.hasAttribute("l10n-id")){localizeNode(b,this);return}throw Exception("Node not localizable")};HTMLElement.prototype.__defineGetter__("l10nData",function(){return this.nodeData||(this.nodeData={})});HTMLDocument.prototype.__defineGetter__("l10nData",function(){return b.data||(b.data={})})}function fireLocalizedEvent(){var a=document.createEvent("Event");a.initEvent("DocumentLocalized",false,false);document.dispatchEvent(a)}function getPathTo(d,b,j){const e=1;if(d===b){return"."}var a=d.getAttribute("id");if(a){return'*[@id="'+a+'"]'}var h=!j&&d.getAttribute("l10n-path");if(h){return h}var g=0;var k=d.parentNode.childNodes;for(var c=0,l;l=k[c];c++){if(l===d){var f=getPathTo(d.parentNode,b,j);return f+"/"+d.tagName+"["+(g+1)+"]"}if(l.nodeType===e&&l.tagName===d.tagName){g++}}throw"Can't find the path to element "+d}function getElementByPath(c,a){var b=document.evaluate(c,a,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null);return b.singleNodeValue}function localizeNode(s,d){var m=d.getAttribute("l10n-id");var n;if(d.nodeData){n=d.nodeData}else{if(d.hasAttribute("l10n-args")){n=JSON.parse(d.getAttribute("l10n-args"));d.nodeData=n}}var p=s.getAttributes(m,n);var h;if(d.hasAttribute("l10n-attrs")){h=d.getAttribute("l10n-attrs").split(" ")}else{h=null}if(p){for(var f in p){if(!h||h.indexOf(f)!==-1){d.setAttribute(f,p[f])}}}var q=s.get(m,n);if(q===null){return}var o=d.cloneNode(true);var l=o.getAttribute("l10n-status");d.innerHTML=q;d.setAttribute("l10n-status","translated");var c=d.getElementsByTagName("*");for(var g=0,b;b=c[g];g++){var t=getPathTo(b,d,l);var r=getElementByPath(t,o);if(!r){continue}for(var e=0,a;a=r.attributes[e];e++){if(!b.hasAttribute(a.name)){b.setAttribute(a.nodeName,a.value)}}}};